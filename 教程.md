# HonKit + GitHub Pages å¿«é€Ÿéƒ¨ç½²ä¸ç»´æŠ¤æŒ‡å—

> æœ¬æŒ‡å—ä¸ºä¸ªäººå¤‡å¿˜å½•ï¼Œæ—¨åœ¨è®°å½•å¦‚ä½•ä½¿ç”¨ HonKit å’Œ GitHub Pages å¿«é€Ÿåˆ›å»ºã€éƒ¨ç½²å’Œç»´æŠ¤ä¸€ä¸ªåœ¨çº¿æ–‡æ¡£/ä¹¦ç±ç½‘ç«™ã€‚
>
> - **åœºæ™¯**ï¼šä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡æ¡£é¡¹ç›®ã€‚
> - **æŠ€æœ¯æ ˆ**ï¼šHonKit, Node.js, npm, Git, GitHub Pages
> - **ä½œè€…**ï¼šzimingcxt

---

## ä¸€ã€ğŸš€ æ–°é¡¹ç›®ä»é›¶åˆ°ä¸€å¿«é€Ÿéƒ¨ç½²

æ­¤éƒ¨åˆ†æ¶µç›–äº†ä»åˆå§‹åŒ–é¡¹ç›®åˆ°ç½‘ç«™ä¸Šçº¿çš„å®Œæ•´æµç¨‹ã€‚å‡è®¾æ–°é¡¹ç›®åä¸º `my-new-book`ã€‚

### ç¬¬1æ­¥ï¼šæœ¬åœ°é¡¹ç›®åˆå§‹åŒ–

åœ¨ä½ çš„ç”µè„‘ä¸Šä¸ºæ–°é¡¹ç›®åšå¥½å‡†å¤‡ã€‚

```bash
# 1. åœ¨ä½ å–œæ¬¢çš„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®æ–‡ä»¶å¤¹
mkdir my-new-book

# 2. è¿›å…¥è¯¥æ–‡ä»¶å¤¹ (åç»­æ‰€æœ‰å‘½ä»¤éƒ½åœ¨æ­¤æ–‡ä»¶å¤¹å†…æ‰§è¡Œ)
cd my-new-book

# 3. åˆå§‹åŒ– npm é¡¹ç›®ï¼Œç”Ÿæˆ package.json æ–‡ä»¶ (-y è¡¨ç¤ºå…¨éƒ¨ä½¿ç”¨é»˜è®¤é…ç½®)
npm init -y

# 4. å®‰è£… HonKit å’Œéƒ¨ç½²å·¥å…· gh-pages
# HonKit æ˜¯æ ¸å¿ƒå·¥å…·ï¼Œgh-pages ç”¨äºä¸€é”®éƒ¨ç½²åˆ° GitHub Pages
npm install honkit gh-pages --save-dev

# 5. åˆ›å»ºä¹¦ç±çš„åŸºç¡€æ–‡ä»¶
# README.md æ˜¯ä¹¦ç±çš„å‰è¨€æˆ–ä¸»é¡µ
echo "# æˆ‘çš„æ–°ä¹¦" > README.md
# SUMMARY.md æ˜¯ä¹¦ç±çš„ç›®å½•æ–‡ä»¶ï¼Œè‡³å…³é‡è¦
echo "# ç›®å½•\n\n* [å‰è¨€](README.md)\n* [ç¬¬ä¸€ç« ](chapter1.md)" > SUMMARY.md

# 6. ä½¿ç”¨ HonKit è‡ªåŠ¨ç”Ÿæˆç›®å½•ä¸­å®šä¹‰çš„æ–‡ä»¶ç»“æ„
# HonKit ä¼šè¯»å– SUMMARY.md å¹¶åˆ›å»ºå¯¹åº”çš„ chapter1.md æ–‡ä»¶
honkit init

# 7. (å¯é€‰) æœ¬åœ°é¢„è§ˆï¼Œæ£€æŸ¥æ•ˆæœ
# åœ¨æµè§ˆå™¨æ‰“å¼€ http://localhost:4000 æŸ¥çœ‹
honkit serve
```

### ç¬¬2æ­¥ï¼šåœ¨ `package.json` ä¸­é…ç½®éƒ¨ç½²å‘½ä»¤

è¿™æ˜¯å®ç°â€œä¸€é”®éƒ¨ç½²â€çš„å…³é”®ã€‚æ‰“å¼€é¡¹ç›®ä¸­çš„ `package.json` æ–‡ä»¶ï¼Œæ‰¾åˆ° `"scripts"` éƒ¨åˆ†ï¼Œæ·»åŠ  `"deploy"` å‘½ä»¤ã€‚

```json
// package.json

{
  "name": "my-new-book", // è¿™é‡Œä¼šæ˜¯ä½ é¡¹ç›®æ–‡ä»¶å¤¹çš„åå­—
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    // åœ¨è¿™é‡Œæ·»åŠ  deploy å‘½ä»¤
    // "deploy": "gh-pages -d _book"
    // -d _book çš„æ„æ€æ˜¯å°† _book æ–‡ä»¶å¤¹é‡Œçš„å†…å®¹éƒ¨ç½²ä¸Šå»
    "deploy": "gh-pages -d _book",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    // è¿™é‡Œæ˜¯ä½ å®‰è£…çš„å¼€å‘ä¾èµ–
    "gh-pages": "^6.3.0",
    "honkit": "^3.7.3" // ç‰ˆæœ¬å·å¯èƒ½ä¸åŒ
  }
}
```

### ç¬¬3æ­¥ï¼šåœ¨ GitHub åˆ›å»ºå¹¶å…³è”è¿œç¨‹ä»“åº“

1.  ç™»å½• GitHubï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ **Public** ä»“åº“ï¼Œä»“åº“åå»ºè®®ä¸é¡¹ç›®åä¸€è‡´ï¼ˆä¾‹å¦‚ `my-new-book`ï¼‰ã€‚
2.  **ä¸è¦**å‹¾é€‰ä»»ä½•åˆå§‹åŒ–é€‰é¡¹ï¼ˆå¦‚ README, .gitignoreï¼‰ã€‚
3.  åˆ›å»ºåï¼Œå¤åˆ¶ä»“åº“çš„ HTTPS åœ°å€ï¼ˆä¾‹å¦‚ `https://github.com/zimingcxt/my-new-book.git`ï¼‰ã€‚

```bash
# 1. åˆå§‹åŒ–æœ¬åœ° Git ä»“åº“
git init

# 2. å…³è”åˆ°ä½ åˆšåˆšåœ¨ GitHub åˆ›å»ºçš„è¿œç¨‹ä»“åº“ (æ³¨æ„æ›¿æ¢ URL)
git remote add origin [https://github.com/zimingcxt/my-new-book.git](https://github.com/zimingcxt/my-new-book.git)

# 3. å°†æºç æ¨é€åˆ° GitHub çš„ main åˆ†æ”¯è¿›è¡Œå¤‡ä»½
# è¿™ä¸€æ­¥ä¸æ˜¯éƒ¨ç½²ç½‘ç«™ï¼Œè€Œæ˜¯å¤‡ä»½ä½ çš„ Markdown æºæ–‡ä»¶
git add .
git commit -m "feat: initial project setup"
git push -u origin main
```

### ç¬¬4æ­¥ï¼šæ‰§è¡Œéƒ¨ç½²

ç°åœ¨ï¼Œä½ åªéœ€è¦ä¸€æ¡å‘½ä»¤å°±å¯ä»¥æŠŠç½‘ç«™å‘å¸ƒå‡ºå»ã€‚

```bash
# 1. é¦–å…ˆï¼Œç”¨ HonKit æ„å»ºé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œç”Ÿæˆ _book æ–‡ä»¶å¤¹
honkit build

# 2. ç„¶åï¼Œæ‰§è¡Œä½ åœ¨ package.json ä¸­å®šä¹‰çš„ deploy è„šæœ¬
npm run deploy
```
æ‰§è¡Œåï¼Œ`gh-pages` å·¥å…·ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª `gh-pages` åˆ†æ”¯ï¼Œå¹¶å°† `_book` æ–‡ä»¶å¤¹çš„å†…å®¹æ¨é€åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Šã€‚

### ç¬¬5æ­¥ï¼šé…ç½® GitHub Pages

1.  è¿›å…¥ä½  GitHub ä¸Šçš„ `my-new-book` ä»“åº“é¡µé¢ã€‚
2.  ç‚¹å‡» `Settings` -> `Pages`ã€‚
3.  åœ¨ `Build and deployment` ä¸‹ï¼Œå°† `Source` è®¾ç½®ä¸º `Deploy from a branch`ã€‚
4.  åœ¨ `Branch` éƒ¨åˆ†ï¼Œé€‰æ‹© `gh-pages` åˆ†æ”¯ï¼Œæ–‡ä»¶å¤¹é€‰æ‹© `/(root)`ã€‚
5.  ç‚¹å‡» `Save`ã€‚

ç­‰å¾…å‡ åˆ†é’Ÿåï¼Œä½ çš„æ–°ç½‘ç«™å°±å¯ä»¥é€šè¿‡ `https://zimingcxt.github.io/my-new-book/` è®¿é—®äº†ã€‚

---

## äºŒã€âœï¸ æ—¥å¸¸ç»´æŠ¤ï¼šå¿«æ·æ·»åŠ ç›®å½•å’Œæ–‡ç« 

å®Œæˆé¦–æ¬¡éƒ¨ç½²åï¼Œæ—¥å¸¸æ›´æ–°æµç¨‹éå¸¸ç®€å•å’Œé«˜æ•ˆã€‚

### æµç¨‹æ¦‚è§ˆ

**ä¿®æ”¹ç›®å½• -> åˆ›å»ºæ–‡ä»¶ -> ç¼–å†™å†…å®¹ -> æäº¤ -> éƒ¨ç½²**

### è¯¦ç»†æ­¥éª¤

```bash
# 1. ä¿®æ”¹ç›®å½•æ–‡ä»¶ SUMMARY.md
# æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³åœ¨ç¬¬ä¸€ç« ä¸‹å¢åŠ ä¸€ä¸ªå­ç« èŠ‚ï¼Œå¹¶æ·»åŠ ç¬¬äºŒç« 
# ç”¨ VS Code æ‰“å¼€ SUMMARY.mdï¼Œä¿®æ”¹åå†…å®¹å¦‚ä¸‹ï¼š
#
# # ç›®å½•
#
# * [å‰è¨€](README.md)
# * [ç¬¬ä¸€ç« ï¼šåŸºç¡€](chapter1.md)
#   * [ç¬¬ä¸€èŠ‚ï¼šæ ¸å¿ƒæ¦‚å¿µ](c1/section1.md)
# * [ç¬¬äºŒç« ï¼šè¿›é˜¶](chapter2.md)
#

# 2. è‡ªåŠ¨åˆ›å»ºæ–‡ä»¶
# ä¿å­˜ SUMMARY.md åï¼Œè¿è¡Œ honkit initï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»º c1/section1.md å’Œ chapter2.md
honkit init

# 3. ç¼–å†™ä½ çš„æ–°æ–‡ç« 
# ç”¨ VS Code æ‰“å¼€åˆšåˆšåˆ›å»ºçš„ c1/section1.md å’Œ chapter2.mdï¼Œå¼€å§‹å†™ä½œ...

# 4. (å¯é€‰) æœ¬åœ°é¢„è§ˆ
honkit serve

# 5. æäº¤æºç å˜æ›´åˆ° GitHub
# è¿™æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥å¤‡ä»½ä½ çš„æ¯ä¸€æ¬¡ä¿®æ”¹
git add .
git commit -m "docs: add chapter 2 and section 1.1" # commit ä¿¡æ¯å°½é‡å†™æ¸…æ¥š
git push origin main

# 6. é‡æ–°æ„å»ºå¹¶éƒ¨ç½²åˆ°çº¿ä¸Š
honkit build
npm run deploy
```
å®Œæˆï¼å‡ åˆ†é’Ÿåï¼Œä½ ç½‘ç«™ä¸Šçš„å†…å®¹å°±ä¼šæ›´æ–°ã€‚

---

## ä¸‰ã€âš™ï¸ (è¿›é˜¶) ä½¿ç”¨ `book.json` è¿›è¡Œä¸ªæ€§åŒ–é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `book.json` æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥é…ç½®ä¹¦åã€ä½œè€…ã€æ’ä»¶ç­‰ã€‚

### `book.json` ç¤ºä¾‹

```json
// book.json

{
    // ä¹¦æœ¬çš„æ ‡é¢˜ï¼Œä¼šæ˜¾ç¤ºåœ¨ç½‘ç«™çš„å·¦ä¸Šè§’
    "title": "æˆ‘çš„æ–°ä¸€ä»£ç¥ä¹¦",

    // ä½œè€…
    "author": "zimingcxt",

    // ä¹¦æœ¬çš„æè¿°
    "description": "è¿™æ˜¯ä¸€æœ¬å…³äº...çš„åˆ’æ—¶ä»£å·¨è‘—",

    // ä½¿ç”¨çš„ HonKit ç‰ˆæœ¬ï¼Œå»ºè®®é”å®šä»¥ä¿è¯å…¼å®¹æ€§
    "gitbook": "3.7.3",

    // æ’ä»¶åˆ—è¡¨
    // HonKit é»˜è®¤å¸¦äº†ä¸€äº›æ’ä»¶ï¼Œå¦‚ search, sharing, fontsettings
    // ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šæ’ä»¶ï¼Œæ¯”å¦‚ä»£ç é«˜äº®
    "plugins": [
        "-sharing", // è´Ÿå·è¡¨ç¤ºç¦ç”¨é»˜è®¤çš„ sharing æ’ä»¶
        "prism",    // æ·»åŠ  prism æ’ä»¶ç”¨äºä»£ç é«˜äº®
        "prism-themes" // prism çš„ä¸»é¢˜æ’ä»¶
    ],

    // é’ˆå¯¹æ’ä»¶çš„è¯¦ç»†é…ç½®
    "pluginsConfig": {
        "prism": {
            "css": [
                // é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ä¸»é¢˜æ ·å¼
                "prismjs/themes/prism-tomorrow.css"
            ]
        }
    }
}

```

### å¦‚ä½•ä½¿ç”¨å¸¦æ’ä»¶çš„é…ç½®

1.  åœ¨ `book.json` ä¸­æ·»åŠ æ’ä»¶åã€‚
2.  ä½¿ç”¨ npm å®‰è£…æ’ä»¶ï¼Œä¾‹å¦‚ï¼š`npm install honkit-plugin-prism prism-themes --save-dev`ã€‚
3.  é‡æ–°è¿è¡Œ `honkit install` (å¦‚æœéœ€è¦) æˆ–ç›´æ¥ `honkit build`ï¼ŒHonKit ä¼šè‡ªåŠ¨åŠ è½½æ’ä»¶ã€‚
