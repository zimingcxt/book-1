# 如何多设备编辑

在其他电脑上继续更新 HonKit 项目是一个常见的流程。如果这台新电脑上没有安装 HonKit ,可以看下面的配制方法(**部分内容**和前几节有**重复**):

目标分为两步：

1. **搭建环境**：在新电脑上安装所需的基础软件。
2. **同步和更新**：把 GitHub 上的书籍源文件弄下来，然后进行更新。

下面是详细的步骤，跟着做就可以了：

### 第 1 步：安装必备的开发环境

你的 HonKit 项目是基于 Node.js 的，并且代码存放在 GitHub 上。所以，你需要两个核心工具：**Node.js** 和 **Git**。

1. **安装 Git**
   * **作用**：Git 是一个版本控制工具，用来从 GitHub 上下载（克隆）你的代码，并在你更新后上传（推送）回去。
   * **如何安装**：访问 [Git 官网下载页面](https://git-scm.com/downloads)，根据你的操作系统（Windows, macOS, Linux）下载并安装。安装时一路选择默认选项即可。
2. **安装 Node.js 和 npm**
   * **作用**：HonKit 本身是一个 Node.js 包，需要 Node.js 环境来运行。npm 是 Node.js 的包管理器，随 Node.js 一起安装，用来帮你安装 HonKit。
   * **如何安装**：访问 [Node.js 官网](https://nodejs.org/)，推荐下载左侧的 **LTS (长期支持版)**，它最稳定。下载后双击安装，同样一路默认即可。

安装完成后，可以打开终端（在 Windows 上是 `CMD` 或 `PowerShell`，在 macOS 上是 `Terminal`）输入以下命令来检查是否安装成功：

**Bash**

```
git --version
node -v
npm -v
```

如果都显示了版本号，说明环境已经准备好了。

### 第 2 步：从 GitHub 克隆你的书籍源文件

现在，我们要把云端（GitHub）的代码库复制到你的本地电脑上。

1. **打开终端** (Command Prompt, PowerShell, or Terminal)。
2. **导航到一个你希望存放项目的文件夹**，比如桌面或文档文件夹。
   **Bash**

   ```
   # 例如，进入桌面
   cd Desktop
   ```
3. **克隆仓库**。使用 `git clone` 命令加上你的仓库地址。根据你提供的网址，你的仓库地址应该是(这里用我的作为示例) `https://github.com/zimingcxt/book-1.git`。
   **Bash**

   ```
   git clone https://github.com/zimingcxt/book-1.git
   ```

   执行后，Git 会自动创建一个名为 `book-1` 的文件夹，并把所有代码下载到里面。
4. **进入项目目录**。
   **Bash**

   ```
   cd book-1
   ```

### 第 3 步：安装 HonKit 和项目依赖

进入项目文件夹后，你会发现里面应该有一个叫 `package.json` 的文件，它记录了项目需要的所有依赖（包括 HonKit）。

1. 在终端里（确保你仍然在 `book-1` 文件夹下），运行以下命令：
   **Bash**

   ```
   npm install
   ```

   这个命令会读取 `package.json` 文件，并自动下载安装 HonKit 以及其他可能需要的全部依赖项。这比手动在全局安装 HonKit 要好，因为它可以确保项目环境的一致性。

### 第 4 步：本地预览和修改内容

现在你的电脑已经拥有了和之前完全一样的开发环境和代码了。

1. **修改你的书籍内容**：用你喜欢的代码编辑器（如 VS Code）打开 `book-1` 文件夹。根据 HonKit 的结构，你可以修改 `.md` (Markdown) 文件来更新你的书籍内容。
2. **在本地预览效果**：修改后，想看看网站实际长什么样，可以运行以下命令：
   **Bash**

   ```
   npx honkit serve
   ```

   这条命令会启动一个本地服务器，终端会提示你网站正在运行，通常地址是 `http://localhost:4000`。在浏览器里打开这个地址，你就能看到你的书了，并且你对文件的任何修改都会自动刷新，非常方便。

### 第 5 步：发布你的更新

当你对修改感到满意，并准备好将更新发布到 `https://zimingcxt.github.io/book-1` 时，遵循以下 Git 流程：

1. **构建静态文件**（这一步取决于你的 GitHub Pages 配置，但通常是好习惯）：
   **Bash**

   ```
   npx honkit build
   ```

   这会把你的 Markdown 文件生成为最终的 HTML 文件，通常放在一个叫 `_book` 的文件夹里。
2. **将改动提交到 Git**。
   **Bash**

   ```
   # 1. 添加所有文件的改动到暂存区
   git add .

   # 2. 创建一个提交记录，并写上本次更新的说明
   git commit -m "这里写你的更新说明，比如：更新了第二章内容"

   # 3. 推送你的提交到 GitHub 云端
   git push
   ```

推送成功后，GitHub Pages 会自动开始部署你的新版本，通常等待一两分钟，刷新你的线上网址就能看到更新了！

---

### 总结一下你的日常更新流程：

1. 修改 `.md` 文件。
2. 运行 `npx honkit serve` 在本地实时预览。
3. 满意后，按 `Ctrl + C` 停止本地服务器。
4. 运行 `git add .` -> `git commit -m "更新说明"` -> `git push`。
5. 等待几分钟，线上网站更新完成。

这样，你就可以在任何电脑上愉快地更新你的 HonKit 网站了。
